"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[4649],{2198(e,n,s){s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"file-system/overview","title":"File System Overview","description":"@zaisustech/file-system is a React Native file system management library built with Expo. It provides a full file manager UI: browse directories, create/rename/move/copy/delete files and folders, with list/grid views, search, sort, and multi-selection.","source":"@site/docs/file-system/overview.md","sourceDirName":"file-system","slug":"/file-system/overview","permalink":"/mobile-sdk-document/docs/file-system/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/zaisustech/mobile-sdk-document/tree/main/apps/docs-site/docs/file-system/overview.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Visible","permalink":"/mobile-sdk-document/docs/atomic-ui-component/visible"},"next":{"title":"File System API Reference","permalink":"/mobile-sdk-document/docs/file-system/api"}}');var r=s(7261),t=s(5576);const l={},a="File System Overview",o={},d=[{value:"Features",id:"features",level:2},{value:"Installation",id:"installation",level:2},{value:"Peer dependencies",id:"peer-dependencies",level:3},{value:"Basic usage",id:"basic-usage",level:2},{value:"File permissions (Android)",id:"file-permissions-android",level:2},{value:"Navigation and file actions",id:"navigation-and-file-actions",level:2},{value:"Source layout (lib)",id:"source-layout-lib",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"file-system-overview",children:"File System Overview"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"@zaisustech/file-system"})," is a React Native file system management library built with Expo. It provides a full file manager UI: browse directories, create/rename/move/copy/delete files and folders, with list/grid views, search, sort, and multi-selection."]}),"\n",(0,r.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Browse"})," a directory: list or grid view of files and folders"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Navigate"}),": tap a folder to open it (via ",(0,r.jsx)(n.code,{children:"onSelect"}),"); tap a file for your handler (e.g. open/share)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Sort"}),": by name, date, size, or kind; ascending or descending"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Search"}),": in-toolbar text filter over the current list (client-side)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Multi-selection"}),": long-press to enter selection mode; select all, deselect all, batch copy, move, or delete"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Single-item actions"}),": long-press a folder or \u201cmore\u201d on list/grid \u2192 Copy, Move, Delete, Rename, Duplicate"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Create folder"}),": toolbar button opens \u201cnew folder\u201d modal"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Swipe actions"})," (list view): optional swipe to reveal More / Delete per row"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"npm"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm install @zaisustech/file-system\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"yarn"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"yarn add @zaisustech/file-system\n"})}),"\n",(0,r.jsx)(n.h3,{id:"peer-dependencies",children:"Peer dependencies"}),"\n",(0,r.jsx)(n.p,{children:"Install these in your app if not already present:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Package"}),(0,r.jsx)(n.th,{children:"Purpose"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@zaisustech/atomic-ui"})}),(0,r.jsx)(n.td,{children:"UI components (Card, Icon, Text, Dialog, etc.)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"expo-file-system"})}),(0,r.jsx)(n.td,{children:"File system API"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"expo-sharing"})}),(0,r.jsx)(n.td,{children:"Share files"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"react-native-gesture-handler"})}),(0,r.jsx)(n.td,{children:"Gestures (swipe actions)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"react-native-reanimated"})}),(0,r.jsx)(n.td,{children:"Animations"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"react-native-keyboard-controller"})}),(0,r.jsx)(n.td,{children:"Keyboard-aware UI (optional)"})]})]})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"yarn add @zaisustech/atomic-ui expo-file-system expo-sharing react-native-gesture-handler react-native-reanimated react-native-keyboard-controller\n"})}),"\n",(0,r.jsx)(n.h2,{id:"basic-usage",children:"Basic usage"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"FileManagerContainer"})," must be used inside ",(0,r.jsx)(n.code,{children:"FileManagerProvider"}),". The provider supplies view mode and sort state, and wraps the tree with ",(0,r.jsx)(n.code,{children:"GestureHandlerRootView"})," and ",(0,r.jsx)(n.code,{children:"KeyboardProvider"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import { FileManagerContainer, FileManagerProvider } from '@zaisustech/file-system';\nimport { ThemeProvider, ToastProvider } from '@zaisustech/atomic-ui';\nimport { SafeAreaProvider } from 'react-native-safe-area-context';\nimport * as FileSystem from 'expo-file-system';\n\nconst documentPath = FileSystem.Paths.document.uri ?? '';\n\nconst App = () => (\n  <SafeAreaProvider>\n    <ThemeProvider>\n      <ToastProvider>\n        <FileManagerProvider>\n          <FileManagerContainer path={documentPath} />\n        </FileManagerProvider>\n      </ToastProvider>\n    </SafeAreaProvider>\n  </SafeAreaProvider>\n);\n"})}),"\n",(0,r.jsx)(n.h2,{id:"file-permissions-android",children:"File permissions (Android)"}),"\n",(0,r.jsxs)(n.p,{children:["On ",(0,r.jsx)(n.strong,{children:"Android"}),", accessing directories outside the app sandbox (e.g. user-chosen folders) requires the Storage Access Framework. Request directory permission before passing a path to ",(0,r.jsx)(n.code,{children:"FileManagerContainer"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import { useEffect, useCallback, useState } from 'react';\nimport { Platform } from 'react-native';\nimport * as FileSystem from 'expo-file-system';\nimport { StorageAccessFramework } from 'expo-file-system/legacy';\n\nconst [path, setPath] = useState<string | null>(() =>\n  Platform.OS === 'ios' ? FileSystem.Paths.document.uri ?? '' : null\n);\nconst [isLoading, setIsLoading] = useState(Platform.OS === 'android');\n\nconst requestPermission = useCallback(async () => {\n  if (Platform.OS !== 'android') return;\n\n  setIsLoading(true);\n  try {\n    const result = await StorageAccessFramework.requestDirectoryPermissionsAsync();\n    if (result.granted && result.directoryUri) {\n      setPath(result.directoryUri);\n    } else {\n      setPath(null);\n    }\n  } catch {\n    setPath(null);\n  } finally {\n    setIsLoading(false);\n  }\n}, []);\n\nuseEffect(() => {\n  if (Platform.OS === 'android') {\n    requestPermission();\n  }\n}, [requestPermission]);\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"iOS"}),": Use ",(0,r.jsx)(n.code,{children:"FileSystem.Paths.document.uri"})," (or other app paths); no runtime permission needed for app directories."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Android"}),": Call ",(0,r.jsx)(n.code,{children:"StorageAccessFramework.requestDirectoryPermissionsAsync()"})," so the user can pick a folder; use the returned ",(0,r.jsx)(n.code,{children:"directoryUri"})," as ",(0,r.jsx)(n.code,{children:"path"}),". Show a loading state until permission is granted or denied, and only render ",(0,r.jsx)(n.code,{children:"FileManagerContainer"})," when ",(0,r.jsx)(n.code,{children:"path"})," is set (or show a prompt to request permission)."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"navigation-and-file-actions",children:"Navigation and file actions"}),"\n",(0,r.jsxs)(n.p,{children:["Use ",(0,r.jsx)(n.code,{children:"onSelect"})," to navigate into folders or handle file taps (e.g. share):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import { FileItem, FileManagerContainer } from '@zaisustech/file-system';\nimport * as Sharing from 'expo-sharing';\n\nfunction FileManagerScreen({ path }: { path: string }) {\n  const handleSelect = (file: FileItem) => {\n    if (file.isDirectory) {\n      // Navigate into folder (e.g. push new screen with file.uri)\n    } else {\n      Sharing.shareAsync(file.uri);\n    }\n  };\n\n  return <FileManagerContainer path={path} onSelect={handleSelect} />;\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"source-layout-lib",children:"Source layout (lib)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"contexts/"})," \u2014 FileManagerContext, FileManagerProvider"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"widgets/FileManagerContainer/"})," \u2014 main container, list render, modals, search, selection"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"widgets/FileDestinationModalWidget/"})," \u2014 copy/move destination picker"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"components/"})," \u2014 FileListView, FileGridView, toolbars, search bar, modals"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"hooks/"})," \u2014 useFileManager, useFileActions, useFileSort, useAppForegroundRefresh"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"types/"}),", ",(0,r.jsx)(n.code,{children:"utils/"})," \u2014 types and formatting/grouping helpers"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["See ",(0,r.jsx)(n.a,{href:"/mobile-sdk-document/docs/file-system/api",children:"API Reference"})," for props, hooks, and types."]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);